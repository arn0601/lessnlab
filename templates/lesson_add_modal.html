<div class="modal hide" id="addLesson">
	{% block addLesson %} 
 <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">x</button>
    <h3>Add a Lesson</h3>
  </div>
  <div class="modal-body">
    <form method="post" action="{% url LessonPlanner.views.addLesson %}" id="addNewLesson">
        {% csrf_token %}
        {% for field in lessonAddForm %}
        <div class="control-group">
        {{ field.errors.as_text }}
         <label class="control-label">{{ field.label_tag }}</label>
            <div class="controls">
                {{ field }}
            </div>
                </div>
    {% endfor %}
     <p><button type="submit" class="btn btn-primary" onClick="addNewLesson()" >Submit</button>
                <button type="button" data-dismiss="modal" class="btn btn-primary">Cancel</button>
<!--Department,Subject,Year-->
      </p>
    </form>
  </div>
	{% endblock %}
</div>



<script type="text/javascript"> 

        function addNewLesson() {
		var formString = $("#addNewLesson").serialize()
		$.ajax({
			data : formString,
			dataType : "html",
			type: "POST",
			url: {% url LessonPlanner.views.addLesson %},
			success: function(data) {
				if (data == "success") {
					location.reload();
				}
				else {
					$("#addLesson").html(data);
					$("#addLesson").modal("show");
				}
			}
		});
	}

	function chooseNewCourse1() {
		$("#chooseNewCourse").modal("show");
	}
	
	function chooseRecommendCourse() {
		$("#chooseNewCourse").modal("hide");	
		$("#recommendCourse").modal("show");
	}

	function chooseAddCourse() {
		$("#chooseNewCourse").modal("hide");
		$("#addCourse").modal("show");
	}

	function hideAddCourse() {
		$("#addCourse").modal("hide");
	}

	function hideRecommendCourse() {
		$("#recommendCourse").modal("hide");
	}

	function hideChooseNewCourse() {
		$("#chooseNewCourse").modal("hide");
	}

	function createCourseFromStandard(id){

		$.ajax({
			data: {standard_id:id},
			dataType:'html',
			type: "POST", // GET or POST
      url: {% url LessonPlanner.views.createCourseFromStandard %}, // the file to call
			success : function(data){
					$('#addCourse').html(data);
					$('#addCourse').modal('show')		
       }
		});
	}

</script>
