<!DOCTYPE html>
{% extends "base-lessonPlanner.html" %}
{% load dictionary_extras %}
{% block content %}
<div class="noborderunitbox">
	<div class="sectionheader" id="overview">
		Lesson Overview
	</div>
	<div class="overviewsectionnav">					
		<div class="span4">
			<b>{{ lesson.name }}</b> in the <a href="/lessons/?unit_id={{ unit.id }}"> {{ unit.name }}</a>
		</div>
		<div class="span5">
			<b>Aligns to Standard(s): </b> <a href="#">3.1.a</a>, <a href="#">3.1.b</a>
		</div>
		<div class="span3">
			<b>Written By: </b><a href="#">{{ fullname }}</a>
		</div>
	</div>
	<div>
		<div class="span12 well">
			<h5>Lesson Description</h5>
			<p> 
				{{ lesson.description }}
			</p>
			<button class="btn btn-primary btn-mini">Edit Description</button>
		</div>
	</div>
	<div>
		<div class="span12 well">
			<h5>Lesson Objectives</h5>
			<ul>
				<li>SWBAT define three causes of the Civil War</li>
			</ul>
			<button class="btn btn-primary btn-mini">Add Objectives</button>
			<button class="btn btn-mini">Delete Objectives</button>
		</div>
	</div>
	{% for section, section_placement in sections|sort_sections %}
		<div class="sectionheader" id="{{ section.id }}">
			{% with section.name as user_key %}
			{{ section_types|access:user_key }} -  {{ section.description }}				
				<a id="delete_section" data-sectionid="{{ section.id }}" 
						class="btn btn-primary btn-mini delete_section" href="#" style="right: 10%; position: absolute;">Delete Section</a>	
			{% endwith %}
		</div>	
		{% for content, content_placement in sections|access:section|sort_content %}
			<p>
			{% if content.content_type == "OnlineVideo" %}
				<!--<h1>Vimeo Javascript oEmbed Example</h1>
		  					<div id="embed">Loading video...</div>-->
				<iframe width="300" height="300" src="{{ content.link }}"> </iframe>
			{% elif content.content_type == "Text" %}
				<div>	{{ content.text }} </div>
			{% elif content.content_type == "PowerPoint" %}			
				<iframe src="http://docs.google.com/gview?url={{ content.link }}" style="width:300px; height:300px;" frameborder="0"></iframe>
			{% elif content.content_type == "Assessment" %}
				<div>	{{ content.title }}
					{% for r in assessment_dict|access:content.id %}
						{{ r }}
						<div>
							Question: {{ r.question }}
						</div>
						<div>
							{% with ans=assessment_dict|access:content.id|access:r %}
								Answer: {{ ans.answer }}
							{% endwith %}
						</div>
					{% endfor %}
					<a class="btn btn-primary btn-small" type="button" href="?content_id={{ content.id }}&action=Edit">Edit</a>
				</div>		
			{% else %}
					OTHER CONTENT - Need to define template
			{% endif %}
			</p>
			<div>
				<a id="delete_content" data-contentid="{{ content.id }}" 	
					class="btn btn-primary btn-mini delete_content" href="#">Delete Content</a>
			</div>			
		{% endfor %}

		<div class="sectionnav">
			<div class="span2">
					<h5>Add Content</h5>
			</div>
			<div class="span10">
				<ul class="nav nav-pills">						  
					{% for dropdown_header in dropdown_order %}
					<li class="dropdown">
					 	<a class="dropdown-toggle" data-toggle="dropdown" href="#">
									{{ dropdown_header }}
					 		<b class="caret"></b>
						</a>
						<ul class="dropdown-menu showContent" class="btn btn-primary btn-small announce">			
							{% for dropdown_header_dict in section_content_forms|access:dropdown_header %}
							<li><a href="#" class="content_show" data-sectionid="{{ section.id }}" 
									data-contenttype="{{ dropdown_header_dict }}">{{ dropdown_header_dict }}</a></li>   							
							{% endfor %}
						</ul>
					</li>
					{% endfor %}
				</ul>
			</div> 
		</div>
	
	{% endfor %}	
	</div>
</div>

<!--
  <script>

        // This is the URL of the video you want to load
        var videoUrl = 'http://www.vimeo.com/7100569';
        // This is the oEmbed endpoint for Vimeo (we're using JSON)
        // (Vimeo also supports oEmbed discovery. See the PHP example.)
        var endpoint = 'http://www.vimeo.com/api/oembed.json';
        // Tell Vimeo what function to call
        var callback = 'embedVideo';
        // Put together the URL
        var url = endpoint + '?url=' + encodeURIComponent(videoUrl) + '&callback=' + callback + '&width=200';
        // This function puts the video on the page
        function embedVideo(video) {
		
            document.getElementById('embed').innerHTML = unescape(video.html);
        }
        // This function loads the data from Vimeo
        function init() {
            var js = document.createElement('script');
            js.setAttribute('type', 'text/javascript');
            js.setAttribute('src', url);
            document.getElementsByTagName('head').item(0).appendChild(js);
        }
        // Call our init function when the page loads
        window.onload = init;
    </script>
-->
{% endblock %}

